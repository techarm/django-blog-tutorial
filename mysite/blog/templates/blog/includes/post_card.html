<article class="post-card">
    <div class="post-card-header">
        {% if post.category %}
            <span class="category">{{ post.category.name }}</span>
        {% else %}
            <span class="category">未分類</span>
        {% endif %}
        <span class="date">{{ post.created_at }}</span>
    </div>

    <h3 class="post-card-title">
        <a href="{% url 'post_detail' post_id=post.id %}">
            {{ post.title }}
        </a>
    </h3>

    <p class="post-card-excerpt">
        {{ post.content|truncatechars:120 }}
    </p>

    <div class="post-card-footer">
        {% if post.tags.exists %}
        <div class="tags">
            {% for tag in post.tags.all %}
                <span class="tag">#{{ tag.name }}</span>
            {% endfor %}
        </div>
        {% endif %}
        <a href="{% url 'post_detail' post_id=post.id %}" class="read-more">
            続きを読む →
        </a>
    </div>
</article>